(this["webpackJsonpreact-firebase-auth"]=this["webpackJsonpreact-firebase-auth"]||[]).push([[0],{124:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(56),o=n.n(a),i=n(36),s=n(33),j=n(19),l=n(10),u=n(38),b=n(94),d=n(95),O=Object(b.a)({apiKey:"AIzaSyDuBCSqS2Qzegjp-D6zBdofASuBmoo9V9E",authDomain:"react-app-bf87a.firebaseapp.com",projectId:"react-app-bf87a",storageBucket:"react-app-bf87a.appspot.com",messagingSenderId:"900126450823",appId:"1:900126450823:web:6702706fcc03c91e59c422"}),h=Object(d.a)(O),x=n(6),p=Object(r.createContext)({currentUser:null,register:function(){return Promise},login:function(){return Promise},logout:function(){return Promise},signInWithGoogle:function(){return Promise},ForgetPassword:function(){return Promise},resetPassord:function(){return Promise}}),m=function(){return Object(r.useContext)(p)};function g(e){var t=e.children,n=Object(r.useState)(null),c=Object(l.a)(n,2),a=c[0],o=c[1];Object(r.useEffect)((function(){var e=Object(u.e)(h,(function(e){o(e)}));return function(){e()}}),[]);var i={currentUser:a,register:function(e,t){return Object(u.c)(h,e,t)},login:function(e,t){return Object(u.g)(h,e,t)},logout:function(){return Object(u.i)(h)},signInWithGoogle:function(){var e=new u.a;return Object(u.h)(h,e)},ForgetPassword:function(e){return Object(u.f)(h,e,{url:"http://localhost:3000/login"})},resetPassord:function(e,t){return Object(u.b)(h,e,t)}};return Object(x.jsx)(p.Provider,{value:i,children:t})}var f=n(1),v=n.n(f),w=n(5),y=n(155),S=n(146),C=n(25),k=n(157),P=n(64),z=n(148),W=n(158),R=n(102),F=n(149),I=n(139),A=n(104),E=function(e){return Object(x.jsx)(I.a,Object(i.a)({bg:Object(A.d)("white","gray.700"),py:"8",px:{base:"4",md:"10"},shadow:"base",rounded:{sm:"lg"}},e))},L=n(77),D=n(140),B=n(141),U=n(142),M=["children"];function q(e){var t=e.children,n=Object(L.a)(e,M);return Object(x.jsxs)(D.a,Object(i.a)(Object(i.a)({align:"center",color:"gray.300"},n),{},{children:[Object(x.jsx)(I.a,{flex:"1",children:Object(x.jsx)(B.a,{borderColor:"currentcolor"})}),Object(x.jsx)(U.a,{as:"span",px:"3",color:Object(A.d)("gray.600","gray.400"),fontWeight:"medium",children:t}),Object(x.jsx)(I.a,{flex:"1",children:Object(x.jsx)(B.a,{borderColor:"currentcolor"})})]}))}var G=n(145),N=n(143),J=n(144),T=n(53),H=["to","name"];function X(e){var t=e.to,n=e.name,r=Object(L.a)(e,H),c=Object(j.h)().pathname===t;return Object(x.jsx)(s.c,{to:t,children:Object(x.jsx)(R.a,Object(i.a)(Object(i.a)({as:"a",variant:c?"outline":"ghost",colorScheme:c?"primary":"gray"},r),{},{children:n}))})}function K(){var e=Object(A.c)().toggleColorMode,t=m(),n=t.currentUser,r=t.logout;return Object(x.jsx)(I.a,{borderBottom:"2px",borderBottomColor:Object(A.d)("gray.100","gray.700"),mb:4,children:Object(x.jsxs)(k.a,{py:4,justifyContent:"flex-end",maxW:"container.lg",mx:"auto",children:[Object(x.jsx)(X,{to:"/",name:"Firbase Authentication",size:"lg"}),Object(x.jsx)(N.a,{}),!n&&Object(x.jsx)(X,{to:"/login",name:"Login"}),!n&&Object(x.jsx)(X,{to:"/register",name:"Register"}),n&&Object(x.jsx)(X,{to:"/profile",name:"Profile"}),n&&Object(x.jsx)(X,{to:"/protected-page",name:"Protected"}),n&&Object(x.jsx)(X,{to:"/logout",name:"Logout",onClick:function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(x.jsx)(J.a,{variant:"outline",icon:Object(A.d)(Object(x.jsx)(T.c,{}),Object(x.jsx)(T.b,{})),onClick:e,"aria-label":"toggle-dark-mode"})]})})}function Q(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(K,{}),Object(x.jsx)(G.a,{maxW:"container.lg",children:e.children})]})}function V(){var e=Object(j.g)(),t=Object(r.useState)(""),n=Object(l.a)(t,2),c=n[0],a=n[1],o=m().ForgetPassword,i=Object(y.a)();return Object(x.jsxs)(Q,{children:[Object(x.jsx)(S.a,{textAlign:"center",my:12,children:"Forgot password"}),Object(x.jsxs)(E,{maxW:"md",mx:"auto",mt:4,children:[Object(x.jsx)(C.a.form,{onSubmit:function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),o(c).then((function(e){console.log(e),i({description:"Email send check out",status:"success",duration:"5000",isCloseabele:!0})})).catch((function(e){i({description:e.message,status:"error",duration:"5000",isCloseabele:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(x.jsxs)(k.b,{spacing:"6",children:[Object(x.jsxs)(P.a,{id:"email",children:[Object(x.jsx)(z.a,{children:"Email address"}),Object(x.jsx)(W.a,{value:c,onChange:function(e){return a(e.target.value)},name:"email",type:"email",autoComplete:"email",required:!0})]}),Object(x.jsx)(R.a,{type:"submit",colorScheme:"primary",size:"lg",fontSize:"md",children:"Submit"})]})}),Object(x.jsx)(q,{my:6,children:"OR"}),Object(x.jsx)(F.a,{children:Object(x.jsx)(R.a,{variant:"link",onClick:function(){return e.push("/login")},children:"Login"})})]})]})}var Y=n(150),Z=n(151),$=n(152);function _(){var e=m().currentUser;return Object(x.jsxs)(Q,{children:[Object(x.jsx)(S.a,{children:"Home page"}),Object(x.jsx)(U.a,{my:6,children:"The current user is ".concat(e)}),Object(x.jsxs)(S.a,{children:["Firebase Authentication",Object(x.jsx)(C.a.span,{fontWeight:"black",fontStyle:"italic",fontSize:"9xl",mx:2,children:"v9"}),Object(x.jsx)(Y.a,{fontWeight:"black",fontSize:"4xl",mx:2,px:2,colorScheme:"green",children:"NEW API"})]}),Object(x.jsxs)(Z.c,{fontSize:"3xl",my:4,children:[Object(x.jsx)(Z.b,{children:"Email password authentication (Register/Login)"}),Object(x.jsx)(Z.b,{children:"Google Sign in"}),Object(x.jsx)(Z.b,{children:"Forgot Password"}),Object(x.jsx)(Z.b,{children:"Custom Reset password page"}),Object(x.jsx)(Z.b,{children:"Protected routes"}),Object(x.jsxs)(Z.b,{children:[Object(x.jsx)($.a,{fontSize:"inherit",children:" Redirect TO"})," or Back (keeping the state)"]}),Object(x.jsxs)(Z.b,{children:["custom Auth Hook ",Object(x.jsx)($.a,{fontSize:"3xl",children:"useAuth()"})]}),Object(x.jsx)(Z.b,{children:"Loading indicators while sign-in/up"}),Object(x.jsxs)(Z.b,{children:["Dark Mode enabled template using",Object(x.jsx)(Y.a,{fontSize:"inherit",colorScheme:"teal",mx:2,textTransform:"capitalize",borderRadius:"md",children:"Chakra UI"})]})]}),Object(x.jsx)(S.a,{size:"md",mt:20,children:"Some other links (only for reference):"}),Object(x.jsxs)(Z.a,{children:[Object(x.jsx)(Z.b,{children:Object(x.jsx)(s.b,{to:"/reset-password",children:"reset page"})}),Object(x.jsx)(Z.b,{children:Object(x.jsx)(s.b,{to:"/forgot-password",children:"forgot page"})})]})]})}function ee(){var e=Object(r.useRef)(!1);return Object(r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}function te(){var e=Object(j.g)(),t=Object(j.h)(),n=Object(r.useState)(""),c=Object(l.a)(n,2),a=c[0],o=c[1],i=Object(r.useState)(""),u=Object(l.a)(i,2),b=u[0],d=u[1],O=Object(r.useState)(!1),h=Object(l.a)(O,2),p=h[0],g=h[1],f=Object(y.a)(),F=m(),I=F.login,A=F.signInWithGoogle,L=ee();return Object(x.jsxs)(Q,{children:[Object(x.jsx)(S.a,{textAlign:"center",my:12,children:"Login"}),Object(x.jsxs)(E,{maxW:"md",mx:"auto",mt:4,children:[Object(x.jsx)(C.a.form,{onSubmit:function(){var n=Object(w.a)(v.a.mark((function n(r){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),a&&b||f({description:"Credential no valid",status:"error",duration:"5000",inCloseable:!0}),g(!0),I(a,b).then((function(n){var r,c;e.push(null!==(r=null===(c=t.state)||void 0===c?void 0:c.from)&&void 0!==r?r:"/profile"),console.log(n)})).catch((function(e){console.log(e.message),f({description:e.message,status:"error",duration:"5000",inCloseable:!0})})).finally((function(){return L.current&&g(!1)}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),children:Object(x.jsxs)(k.b,{spacing:"6",children:[Object(x.jsxs)(P.a,{id:"email",children:[Object(x.jsx)(z.a,{children:"Email address"}),Object(x.jsx)(W.a,{value:a,onChange:function(e){return o(e.target.value)},name:"email",type:"email",autoComplete:"email",required:!0})]}),Object(x.jsxs)(P.a,{id:"password",children:[Object(x.jsx)(z.a,{children:"Password"}),Object(x.jsx)(W.a,{value:b,onChange:function(e){return d(e.target.value)},name:"password",type:"password",autoComplete:"password",required:!0})]}),Object(x.jsx)(R.a,{isLoading:p,type:"submit",colorScheme:"primary",size:"lg",fontSize:"md",children:"Sign in"})]})}),Object(x.jsxs)(k.a,{justifyContent:"space-between",my:4,children:[Object(x.jsx)(R.a,{variant:"link",children:Object(x.jsx)(s.b,{to:"/forgot-password",children:"Forgot password?"})}),Object(x.jsx)(R.a,{variant:"link",onClick:function(){return e.push("/register")},children:"Register"})]}),Object(x.jsx)(q,{my:6,children:"OR"}),Object(x.jsx)(R.a,{variant:"outline",isFullWidth:!0,colorScheme:"red",leftIcon:Object(x.jsx)(T.a,{}),onClick:function(){return A().then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))},children:"Sign in with Google"})]})]})}function ne(){return Object(x.jsx)(Q,{children:Object(x.jsx)(S.a,{children:"Not found page"})})}function re(){var e=m().currentUser;return Object(x.jsxs)(Q,{children:[Object(x.jsxs)(S.a,{children:["Profile page",Object(x.jsx)(Y.a,{colorScheme:"green",fontSize:"lg",mx:4,children:"Protected Page"})]}),Object(x.jsx)(G.a,{maxW:"container.lg",overflowX:"auto",py:4,children:Object(x.jsx)(C.a.pre,{children:JSON.stringify(e,null,2)})})]})}function ce(){return Object(x.jsxs)(Q,{children:[Object(x.jsxs)(S.a,{children:["Protected page",Object(x.jsx)(Y.a,{colorScheme:"green",fontSize:"lg",mx:4,children:"Protected Page"})]}),Object(x.jsx)(G.a,{maxW:"container.lg",overflowX:"auto",py:4})]})}function ae(){var e=Object(j.g)(),t=Object(r.useState)(""),n=Object(l.a)(t,2),c=n[0],a=n[1],o=Object(r.useState)(""),i=Object(l.a)(o,2),s=i[0],u=i[1],b=Object(r.useState)(!1),d=Object(l.a)(b,2),O=d[0],h=d[1],p=Object(y.a)(),g=m().register,f=ee();return Object(x.jsxs)(Q,{children:[Object(x.jsx)(S.a,{textAlign:"center",my:12,children:"Register"}),Object(x.jsxs)(E,{maxW:"md",mx:"auto",mt:4,children:[Object(x.jsx)(C.a.form,{onSubmit:function(){var e=Object(w.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),c&&s||p({description:"Credential no valid",status:"error",duration:"5000",inCloseable:!0}),h(!0),g(c,s).then((function(e){return console.log(e)})).catch((function(e){console.log(e.message),p({description:e.message,status:"error",duration:"5000",inCloseable:!0})})).finally((function(){return f.current&&h(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(x.jsxs)(k.b,{spacing:"6",children:[Object(x.jsxs)(P.a,{id:"email",children:[Object(x.jsx)(z.a,{children:"Email address"}),Object(x.jsx)(W.a,{value:c,onChange:function(e){return a(e.target.value)},name:"email",type:"email",autoComplete:"email",required:!0})]}),Object(x.jsxs)(P.a,{id:"password",children:[Object(x.jsx)(z.a,{children:"Password"}),Object(x.jsx)(W.a,{value:s,onChange:function(e){return u(e.target.value)},name:"password",type:"password",autoComplete:"password"})]}),Object(x.jsx)(R.a,{isLoading:O,type:"submit",colorScheme:"primary",size:"lg",fontSize:"md",children:"Sign up"})]})}),Object(x.jsx)(F.a,{my:4,children:Object(x.jsx)(R.a,{variant:"link",onClick:function(){return e.push("/login")},children:"Login"})}),Object(x.jsx)(q,{my:6,children:"OR"}),Object(x.jsx)(R.a,{variant:"outline",isFullWidth:!0,colorScheme:"red",leftIcon:Object(x.jsx)(T.a,{}),onClick:function(){return alert("sign in with google")},children:"Sign in with Google"})]})]})}function oe(){var e=Object(j.g)(),t=Object(y.a)(),n=m().resetPassord,c=function(){var e=Object(j.h)();return new URLSearchParams(e.search)}(),a=Object(r.useState)(""),o=Object(l.a)(a,2),i=o[0],s=o[1];return Object(x.jsxs)(Q,{children:[Object(x.jsx)(S.a,{textAlign:"center",my:12,children:"Reset password"}),Object(x.jsx)(E,{maxW:"md",mx:"auto",mt:4,children:Object(x.jsx)(C.a.form,{onSubmit:function(){var r=Object(w.a)(v.a.mark((function r(a){return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:a.preventDefault(),n(c.get("oobCode"),i).then((function(n){t({description:"Password has been changed",status:"success",duration:"5000",inCloseable:!0}),e.push("/login")})).catch((function(e){t({description:e.message,status:"error",duration:"5000",inCloseable:!0})}));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),children:Object(x.jsxs)(k.b,{spacing:"6",children:[Object(x.jsxs)(P.a,{id:"password",children:[Object(x.jsx)(z.a,{children:"New password"}),Object(x.jsx)(W.a,{value:i,onChange:function(e){return s(e.target.value)},type:"password",autoComplete:"password",required:!0})]}),Object(x.jsx)(R.a,{type:"submit",colorScheme:"pink",size:"lg",fontSize:"md",children:"Reset password"})]})})})]})}function ie(e){return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(s.a,{children:Object(x.jsxs)(j.d,{children:[Object(x.jsx)(j.b,{exact:!0,path:"/",component:_}),Object(x.jsx)(se,{exact:!0,path:"/login",component:te}),Object(x.jsx)(se,{exact:!0,path:"/register",component:ae}),Object(x.jsx)(se,{exact:!0,path:"/profile",component:re}),Object(x.jsx)(se,{exact:!0,path:"/protected-page",component:ce}),Object(x.jsx)(se,{exact:!0,path:"/forgot-password",component:V}),Object(x.jsx)(se,{exact:!0,path:"/reset-password",component:oe}),Object(x.jsx)(j.b,{exact:!0,path:"*",component:ne})]})})})}function se(e){var t,n,r=m().currentUser,c=Object(j.h)(),a=e.path;return"/login"===a||"/register"===a||"/forgot-password"===a||"/reset-password"===a?r?Object(x.jsx)(j.a,{to:null!==(t=null===(n=c.state)||void 0===n?void 0:n.from)&&void 0!==t?t:"/profile"}):Object(x.jsx)(j.b,Object(i.a)({},e)):r?Object(x.jsx)(j.b,Object(i.a)({},e)):Object(x.jsx)(j.a,{to:{pathname:"/login",state:{from:a}}})}var je=function(){return Object(x.jsx)(g,{children:Object(x.jsx)(ie,{})})},le=n(153),ue=n(58),be=n(156),de=n(154),Oe=Object(le.a)({config:{initialColorMode:"light",useSystemColorMode:!1},colors:{primary:ue.theme.colors.pink}});o.a.render(Object(x.jsx)(c.a.StrictMode,{children:Object(x.jsxs)(be.a,{theme:Oe,children:[Object(x.jsx)(de.a,{initialColorMode:Oe.config.initialColorMode}),Object(x.jsx)(je,{})]})}),document.getElementById("root"))}},[[124,1,2]]]);
//# sourceMappingURL=main.43779bc4.chunk.js.map